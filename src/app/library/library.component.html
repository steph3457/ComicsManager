<div>
  <div class="panel panel-default">
    <div class="panel-heading">
      <h1>Library</h1>
    </div>
    <div class="panel-body">
      <div class="table-responsive">
        <div class="btn-group">
          <label class="btn btn-primary" [(ngModel)]="libraryService.filter.restriction" btnRadio="unread" uncheckable>Unread</label>
          <label class="btn btn-primary" [(ngModel)]="libraryService.filter.restriction" btnRadio="missing" uncheckable>Missing</label>
          <label class="btn btn-primary" [(ngModel)]="libraryService.filter.restriction" btnRadio="unmapped" uncheckable>Unmapped</label>
        </div>
        <input type="text" id="search" [(ngModel)]="libraryService.filter.search" placeholder="Filter by name...">
        <table class="table table-striped table-hover">
          <thead class="thead-default">
            <th>Image</th>
            <th (click)="libraryService.sortBy('title')">Title</th>
            <th (click)="libraryService.sortBy('year')">Year</th>
            <th>Publisher</th>
            <th>#Issues</th>
          </thead>
          <tr *ngFor="let comic of libraryService.getComics()" class="clickable" (click)="libraryService.displayComic(comic)">
            <td>
              <div *ngIf="comic.image" class="readingStatus">
                <img src="{{comic.image}}" class="img-responsive">
                <span class="badge missing">{{comic.count_of_missing_issues}}</span>
                <span class="badge toRead">{{comic.count_of_unread_issues}}</span>
              </div>
              <div *ngIf="!comic.image" class="">
                <span class="badge">{{comic.count_of_possessed_issues}}</span>
                <span class="badge toRead">{{comic.count_of_unread_issues}}</span>
              </div>
            </td>
            <td>{{comic.title}}</td>
            <td>{{comic.year}}</td>
            <td>{{comic.publisher?.name}}</td>
            <td>{{comic.count_of_issues}}</td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>
