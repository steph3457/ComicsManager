<div class="panel panel-default">
  <div class="panel-heading">
    <div id="title" [hidden]="edit">
      <h2 (click)="editMode()">{{comic.title}}</h2>{{comic.comicVineId}}
    </div>
    <div id="input" [hidden]="!edit">
      <h2 (click)="editMode()">{{comic.title}}</h2><input id="comicVineIdInput" type="text" class="form-control" [(ngModel)]="comic.comicVineId">
    </div>
  </div>
  <div class="panel-body">
    <img *ngIf="comic.image" [src]="comic.image" class="description img-responsive">
    <p [innerHTML]="comic.description"></p>
  </div>
</div>

<div class="panel panel-default">
  <div class="table-responsive">
    <table class="table table-striped table-hover">
      <thead>
        <th>Image</th>
        <th>#Issue</th>
        <th>File name</th>
        <th>Title</th>
        <th>Date</th>
        <th>Read</th>
      </thead>
      <tr *ngFor="let issue of comic.issues" [class]="issue.getClass()">
        <td><img *ngIf="issue.image" src="{{issue.image}}" class="img-responsive"></td>
        <td>{{issue.number}}</td>
        <td class="clickable" (click)="libraryService.read(issue)">{{issue.file_name}}</td>
        <td>{{issue.title}}</td>
        <td>{{issue.date}}</td>
        <td class="clickable" (click)="libraryService.markRead(issue)">
          {{issue.readingStatus.currentPage}}/{{issue.readingStatus.pageCount}}
        </td>
      </tr>
    </table>
  </div>
  <button (click)="libraryService.markRead()">Mark all read</button>
  <button (click)="libraryService.updateComicInfos()">Update Infos</button>
</div>

<div class="loading" [hidden]="!libraryService.loading">
  <img src="../assets/loading.gif" class="img-responsive">
</div>
